{"config":{"lang":["en"],"prebuild_index":false,"separator":"[\\s\\-]+"},"docs":[{"location":"","text":"Welcome to CP4D for TEC Here are some docs on how tol install CP4D on TEC environment Documents Setting up a TEC environment CP4D 2.5 installation CP4D 3.0 installation","title":"Home"},{"location":"#welcome-to-cp4d-for-tec","text":"Here are some docs on how tol install CP4D on TEC environment","title":"Welcome to CP4D for TEC"},{"location":"#documents","text":"Setting up a TEC environment CP4D 2.5 installation CP4D 3.0 installation","title":"Documents"},{"location":"CP4D2.5/","text":"CP4D 2.5 installation on TEC I did all actions from the master server (second server in the list) through ssh. You can connect through the second public IP (10.99.mmm.nnn). Then all installation is done through the internal IP (192.168.1.nnn) $ ssh root@10.99.mmm.nnn for each prereqs, I test them with the --apply option to check what will be done and then I apply them. Downloads Get installation files For IBMers wget http://icpfs1.svl.ibm.com/zen/cp4d-builds/2.5.0.0/production/installer/63/cpd-linux wget http://icpfs1.svl.ibm.com/zen/cp4d-builds/2.5.0.0/production/internal/repo.yaml For clients Get CPD installer & API keyfor customers : from passport advantage (CC3Y1ML) (the bin will download the tgz) or get the installer direclty : https://ibm-open-platform.ibm.com/repos/cpd/v2.5/EE/cloudpak4data-ee-v2.5.0.0.tgz then get your API key : https://myibm.ibm.com/products-services/containerlibrary Installation with NFS I did all installation with NFS as an NFS server comes preconfigured. I don't know the status of Portwaorx at the time I write this documentation and if it will become the new standard. Prereqs # ./cpd-linux adm --repo repo.yaml --assembly lite --namespace zen # ./cpd-linux adm --repo repo.yaml --assembly lite --namespace zen \u2014apply Zen projects is created by the script Installation # oc project zen Already on project \"zen\" on server \"https://192.168.1.101:8443\u201d. # ./cpd-linux --repo repo.yaml --assembly lite --namespace zen -c nfs-client --transfer-image-to=docker-registry.default.svc:5000/zen --target-registry-username=$(oc whoami) --target-registry-password=$(oc whoami -t) --accept-all-licenses Everything should run fine The default login is admin / password CP4D 2.5 installation is minimal, even Watson Studio is not installed Watson Studio So now let\u2019s install Watson Studio Set the parameter on every node in the cluster: echo \"vm.max_map_count=262144\" >> /etc/sysctl.conf ; sysctl -p Set the time zone for the master node # vi override.yaml global: masterTimezone: 'Europe/Paris' Prereqs # ./cpd-linux adm --repo repo.yaml --assembly wsl --namespace zen --apply # ./cpd-linux adm --repo repo.yaml --assembly wsl --namespace zen Installation # ./cpd-linux --repo repo.yaml --assembly dsl --namespace zen -c nfs-client --transfer-image-to=docker-registry.default.svc:5000/zen --target-registry-username=$(oc whoami) --target-registry-password=$(oc whoami -t) --accept-all-licenses \u2014override override.yaml You now have a basic CP4D installation. I will add the addons installation documents later.","title":"CP4D 2.5"},{"location":"CP4D2.5/#cp4d-25-installation-on-tec","text":"I did all actions from the master server (second server in the list) through ssh. You can connect through the second public IP (10.99.mmm.nnn). Then all installation is done through the internal IP (192.168.1.nnn) $ ssh root@10.99.mmm.nnn for each prereqs, I test them with the --apply option to check what will be done and then I apply them.","title":"CP4D 2.5 installation on TEC"},{"location":"CP4D2.5/#downloads","text":"Get installation files","title":"Downloads"},{"location":"CP4D2.5/#for-ibmers","text":"wget http://icpfs1.svl.ibm.com/zen/cp4d-builds/2.5.0.0/production/installer/63/cpd-linux wget http://icpfs1.svl.ibm.com/zen/cp4d-builds/2.5.0.0/production/internal/repo.yaml","title":"For IBMers"},{"location":"CP4D2.5/#for-clients","text":"Get CPD installer & API keyfor customers : from passport advantage (CC3Y1ML) (the bin will download the tgz) or get the installer direclty : https://ibm-open-platform.ibm.com/repos/cpd/v2.5/EE/cloudpak4data-ee-v2.5.0.0.tgz then get your API key : https://myibm.ibm.com/products-services/containerlibrary","title":"For clients"},{"location":"CP4D2.5/#installation-with-nfs","text":"I did all installation with NFS as an NFS server comes preconfigured. I don't know the status of Portwaorx at the time I write this documentation and if it will become the new standard.","title":"Installation with NFS"},{"location":"CP4D2.5/#prereqs","text":"# ./cpd-linux adm --repo repo.yaml --assembly lite --namespace zen # ./cpd-linux adm --repo repo.yaml --assembly lite --namespace zen \u2014apply Zen projects is created by the script","title":"Prereqs"},{"location":"CP4D2.5/#installation","text":"# oc project zen Already on project \"zen\" on server \"https://192.168.1.101:8443\u201d. # ./cpd-linux --repo repo.yaml --assembly lite --namespace zen -c nfs-client --transfer-image-to=docker-registry.default.svc:5000/zen --target-registry-username=$(oc whoami) --target-registry-password=$(oc whoami -t) --accept-all-licenses Everything should run fine The default login is admin / password CP4D 2.5 installation is minimal, even Watson Studio is not installed","title":"Installation"},{"location":"CP4D2.5/#watson-studio","text":"So now let\u2019s install Watson Studio Set the parameter on every node in the cluster: echo \"vm.max_map_count=262144\" >> /etc/sysctl.conf ; sysctl -p Set the time zone for the master node # vi override.yaml global: masterTimezone: 'Europe/Paris' Prereqs # ./cpd-linux adm --repo repo.yaml --assembly wsl --namespace zen --apply # ./cpd-linux adm --repo repo.yaml --assembly wsl --namespace zen Installation # ./cpd-linux --repo repo.yaml --assembly dsl --namespace zen -c nfs-client --transfer-image-to=docker-registry.default.svc:5000/zen --target-registry-username=$(oc whoami) --target-registry-password=$(oc whoami -t) --accept-all-licenses \u2014override override.yaml You now have a basic CP4D installation. I will add the addons installation documents later.","title":"Watson Studio"},{"location":"CP4D3.0/","text":"CP4D 3.0 installation on TEC Work in Progress","title":"CP4D 3.0"},{"location":"CP4D3.0/#cp4d-30-installation-on-tec","text":"","title":"CP4D 3.0 installation on TEC"},{"location":"CP4D3.0/#work-in-progress","text":"","title":"Work in Progress"},{"location":"tec/","text":"Setting up your TEC envinronment TEC allows you to get a test envinronment for up to 90 days. This is pleny enough to test and use CP4D. If you need an environment for a longer period, try to get one in FYRE. I asked for one many month ago and I am still waiting :( TEC request TEC is available at https://iccve.uk.ibm.com Login with your IBMid Once authenticated, click on \"Requested Events\" and then on \"+ Request and event\" Select Demo Choose \"BASE - Red Hat OCP 3.11 for Cloud Paks v3 - Large\" Enter a name for your environment \"CP4D 3.0\" in my example Select the end date, a maximum of 90 days is allowed and you can extend the period. Be careful, there is no warning before closing an environment. You will get a bunch of email with login and password for VPN and letting you know the environment is available. Information All information are located in the TEC site. \"Asset Access Instructions\" document includes all information on how to access your clluster, includiing IP addresses. \"Team Solution Design Document\" documents includes all information on OpenShift cluster : size, accesses, ... VPN Access First you need to connect to the TEC VPN. Go to the website to change the default password sent : https://vpn.hursley-gcc.uk.ibm.com/ Then you can connect directly to the VPN through AnyConnect. I had some issue downloading it from the website and as IBMer we don\u2019t need to, you can enter directly the right address : https://vpn.hursley-gcc.uk.ibm.com/ Connect with VNC to NFS server NFS Server IP is the first on in the list you got from emails. Tip on MacOS : use the client from RealVNC : https://www.realvnc.com/en/connect/download/viewer/ VM Management VM Management is done with VMWare Go to https://tec-hur-vcs2.esx.tec.hur.cdn/ and use your TEC credentials. Use the HTML version and go to the VM level. From there you can start and stop VM to save resources. SSH Connexion SSH connexion is working from scratch, nothing to do. OpenShift Console You can access OpenShift Console directly from your PC. Update your /etc/hosts file add a line: <2nd IP address> ocp-master.tec.uk.ibm.com ocp-master.tec.uk.ibm.com console.apps.tec.uk.ibm.com zen-cpd-zen.apps.tec.uk.ibm.com Replace <2nd IP address> with the second IP adress in the list you got in one of the emails. Open a browser (from VNC or your workstation) https://ocp-master.tec.uk.ibm.com:8443 Passwords: admin / passw0rd root / passw0rd Sources Documentation from https://www.ibm.com/support/producthub/icpdata/docs/content/SSQNUZ_current/cpd/install/registry_server.html https://www.ibm.com/support/producthub/icpdata/docs/content/SSQNUZ_current/cpd/install/rhos-install.html","title":"TEC"},{"location":"tec/#setting-up-your-tec-envinronment","text":"TEC allows you to get a test envinronment for up to 90 days. This is pleny enough to test and use CP4D. If you need an environment for a longer period, try to get one in FYRE. I asked for one many month ago and I am still waiting :(","title":"Setting up your TEC envinronment"},{"location":"tec/#tec-request","text":"TEC is available at https://iccve.uk.ibm.com Login with your IBMid Once authenticated, click on \"Requested Events\" and then on \"+ Request and event\" Select Demo Choose \"BASE - Red Hat OCP 3.11 for Cloud Paks v3 - Large\" Enter a name for your environment \"CP4D 3.0\" in my example Select the end date, a maximum of 90 days is allowed and you can extend the period. Be careful, there is no warning before closing an environment. You will get a bunch of email with login and password for VPN and letting you know the environment is available.","title":"TEC request"},{"location":"tec/#information","text":"All information are located in the TEC site. \"Asset Access Instructions\" document includes all information on how to access your clluster, includiing IP addresses. \"Team Solution Design Document\" documents includes all information on OpenShift cluster : size, accesses, ...","title":"Information"},{"location":"tec/#vpn-access","text":"First you need to connect to the TEC VPN. Go to the website to change the default password sent : https://vpn.hursley-gcc.uk.ibm.com/ Then you can connect directly to the VPN through AnyConnect. I had some issue downloading it from the website and as IBMer we don\u2019t need to, you can enter directly the right address : https://vpn.hursley-gcc.uk.ibm.com/","title":"VPN Access"},{"location":"tec/#connect-with-vnc-to-nfs-server","text":"NFS Server IP is the first on in the list you got from emails. Tip on MacOS : use the client from RealVNC : https://www.realvnc.com/en/connect/download/viewer/","title":"Connect with VNC to NFS server"},{"location":"tec/#vm-management","text":"VM Management is done with VMWare Go to https://tec-hur-vcs2.esx.tec.hur.cdn/ and use your TEC credentials. Use the HTML version and go to the VM level. From there you can start and stop VM to save resources.","title":"VM Management"},{"location":"tec/#ssh-connexion","text":"SSH connexion is working from scratch, nothing to do.","title":"SSH Connexion"},{"location":"tec/#openshift-console","text":"You can access OpenShift Console directly from your PC. Update your /etc/hosts file add a line: <2nd IP address> ocp-master.tec.uk.ibm.com ocp-master.tec.uk.ibm.com console.apps.tec.uk.ibm.com zen-cpd-zen.apps.tec.uk.ibm.com Replace <2nd IP address> with the second IP adress in the list you got in one of the emails. Open a browser (from VNC or your workstation) https://ocp-master.tec.uk.ibm.com:8443 Passwords: admin / passw0rd root / passw0rd","title":"OpenShift Console"},{"location":"tec/#sources","text":"Documentation from https://www.ibm.com/support/producthub/icpdata/docs/content/SSQNUZ_current/cpd/install/registry_server.html https://www.ibm.com/support/producthub/icpdata/docs/content/SSQNUZ_current/cpd/install/rhos-install.html","title":"Sources"}]}